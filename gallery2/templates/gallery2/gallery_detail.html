{% extends "gallery2/base.html" %}
{% load gallery_extras %}
{% load tz %}


{% block content %}
<div class="container">
  <h1>{{ gallery.name }}</h1>

  {% if entries %}
    <div class="gallery-entries">
      {% for entry in entries %}
          <div class="entry-container mb-4">
            <div class="row">
              <div class="col-md-9">
                <img src="{% url 'gallery2:entry_thumbnail' entry.id %}"
                     alt="{{ entry.basename }}"
                     class="img-fluid thumbnail"
                     loading="lazy">
              </div>
              <div class="col-md-3">
                <h3>{{ entry.basename }}</h3>
                {{ entry.filenames }}
                {% if entry.timestamp %}
                  <h4>{{ entry.timestamp|timezone:"Europe/Amsterdam" }}</h4>
                {% endif %}
                <div>{{ entry.caption|markdown_to_html }}</div>
              </div>
            </div>
          </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">No entries in this gallery.</div>
  {% endif %}

  <div class="mb-3">
    <a href="{% url 'gallery2:gallery_list' %}" class="btn btn-secondary">Back to Galleries</a>
  </div>
</div>
{% endblock %}
